import React from "react"
import { useSession } from "next-auth/react"
import { UserOutlined } from "@ant-design/icons"
import { Avatar } from "antd"
import { signOut } from "next-auth/react"
import { useRouter } from "next/router"
import Link from "next/link"

const Sidebar = () => {
    const { data: session } = useSession()
    const { pathname } = useRouter()

    const sidebarLinks = [
        {
            label: "Hồ sơ",
            key: "/profile/setting",
            icon: (
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="22"
                    height="22"
                    viewBox="0 0 32 32"
                >
                    <path
                        // fill="#F43F5E"
                        d="M25 28H7c-.6 0-1-.4-1-1v-2c0-5.5 4.5-10 10-10 1.2 0 2.5.2 3.6.7.5.2.8.8.6 1.3-.2.5-.8.8-1.3.6-.9-.4-1.9-.6-2.9-.6-4.4 0-8 3.6-8 8v1h17c.6 0 1 .4 1 1s-.4 1-1 1zm-9-14c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5zm0-8c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3z"
                    />
                    <path
                        // fill="#F43F5E"
                        d="M21 25.2c-.5 0-1-.4-1-.9l-.2-3.6c0-.2 0-.4.1-.6l4.6-7.8c.3-.5.9-.6 1.4-.4l3.4 2c.5.3.6.9.4 1.4l-4.6 7.8c-.1.2-.2.3-.4.4l-3.2 1.6c-.2 0-.4.1-.5.1zm.8-4.4.1 1.8 1.6-.8 3.9-6.6-1.7-1-3.9 6.6zm2.4 1.8z"
                    />
                </svg>
            ),
        },
        {
            label: "Địa đểm đã thích",
            key: "/profile/liked",
            icon: (
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="22"
                    height="22"
                    viewBox="0 0 512 512"
                >
                    <path d="M349.6 64c-36.4 0-70.718 16.742-93.6 43.947C233.117 80.742 198.8 64 162.4 64 97.918 64 48 114.221 48 179.095c0 79.516 70.718 143.348 177.836 241.694L256 448l30.164-27.211C393.281 322.442 464 258.61 464 179.095 464 114.221 414.082 64 349.6 64zm-80.764 329.257l-4.219 3.873-8.617 7.773-8.616-7.772-4.214-3.869c-50.418-46.282-93.961-86.254-122.746-121.994C92.467 236.555 80 208.128 80 179.095c0-22.865 8.422-43.931 23.715-59.316C118.957 104.445 139.798 96 162.4 96c26.134 0 51.97 12.167 69.11 32.545L256 157.661l24.489-29.116C297.63 108.167 323.465 96 349.6 96c22.603 0 43.443 8.445 58.686 23.778C423.578 135.164 432 156.229 432 179.095c0 29.033-12.467 57.459-40.422 92.171-28.784 35.74-72.325 75.709-122.742 121.991z" />
                </svg>
            ),
        },
        {
            label: "Địa điểm đã đánh giá",
            key: "/profile/reviewed",
            icon: (
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="22"
                    height="22"
                    viewBox="0 0 512 512"
                >
                    <path
                        fill="#000"
                        d="M512.3 188.342a14.66 14.66 0 0 0-11.907-10.04l-35.737-5.192q-.353-.086-.717-.14l-25.393-3.69-27.769-56.266a14.955 14.955 0 0 0-26.7.001L356.31 169.28l-25.394 3.69a7.198 7.198 0 0 0-.71.14l-29.439 4.277-30.105-61a17.5 17.5 0 0 0-31.386 0l-29.967 60.72-27.508-3.997q-.353-.086-.717-.14l-25.393-3.69-27.77-56.264a14.954 14.954 0 0 0-26.7 0L73.454 169.28l-25.392 3.69a7.198 7.198 0 0 0-.711.14l-35.743 5.193a14.75 14.75 0 0 0-8.175 25.16l44.93 43.797-10.607 61.84a14.733 14.733 0 0 0 21.403 15.551l55.414-29.134 48.263 25.374-11.174 65.149a17.5 17.5 0 0 0 25.392 18.449l76.754-40.353a2.492 2.492 0 0 1 2.325.001l76.754 40.352a17.5 17.5 0 0 0 25.391-18.448l-11.004-64.162 50.155-26.362 55.415 29.134a14.75 14.75 0 0 0 21.401-15.55l-10.605-61.842 44.93-43.796a14.659 14.659 0 0 0 3.732-15.121ZM166.32 300.575l-.819 4.77-44.187-23.23a14.8 14.8 0 0 0-6.618-1.686 5.128 5.128 0 0 0-.248 0 14.811 14.811 0 0 0-6.618 1.686l-55.205 29.023 10.544-61.473a14.75 14.75 0 0 0-4.243-13.055l-44.661-43.536 35.964-5.226a7.202 7.202 0 0 0 .71-.139l24.8-3.603a14.745 14.745 0 0 0 11.108-8.07l27.725-56.177 27.725 56.176a14.745 14.745 0 0 0 11.107 8.07l24.794 3.603c.237.058.475.105.718.14l23.413 3.402-1.43 2.897a2.502 2.502 0 0 1-1.881 1.368l-85.814 12.47a17.5 17.5 0 0 0-9.7 29.85l62.098 60.528a2.5 2.5 0 0 1 .717 2.212Zm176.178 90.446a2.398 2.398 0 0 1-2.632.19l-76.753-40.35a17.489 17.489 0 0 0-16.288-.001l-76.752 40.352a2.501 2.501 0 0 1-3.629-2.636l14.659-85.465a17.495 17.495 0 0 0-5.033-15.491l-62.094-60.527a2.5 2.5 0 0 1 1.384-4.265l85.815-12.469a17.5 17.5 0 0 0 13.176-9.573l38.377-77.76a2.5 2.5 0 0 1 4.483 0l38.376 77.758a17.497 17.497 0 0 0 13.178 9.575l85.812 12.47a2.5 2.5 0 0 1 1.385 4.264l-62.095 60.527a17.5 17.5 0 0 0-5.032 15.49l2.742 15.986.01.06 11.906 69.42a2.401 2.401 0 0 1-.995 2.445ZM453.075 236.61a14.74 14.74 0 0 0-4.242 13.057l10.542 61.472-55.204-29.022a14.806 14.806 0 0 0-6.62-1.687 5.126 5.126 0 0 0-.247 0 14.804 14.804 0 0 0-6.617 1.686l-46.08 24.22-.988-5.76a2.497 2.497 0 0 1 .719-2.213l62.095-60.528a17.5 17.5 0 0 0-9.7-29.85l-85.811-12.469a2.5 2.5 0 0 1-1.883-1.368l-1.292-2.618 25.337-3.68a7.201 7.201 0 0 0 .711-.14l24.8-3.603a14.745 14.745 0 0 0 11.107-8.07l27.726-56.178 27.724 56.177a14.745 14.745 0 0 0 11.108 8.07l24.794 3.603c.236.058.474.105.718.14l35.964 5.227Z"
                    />
                </svg>
            ),
        },
    ]

    return (
        <div className="bg-white rounded-md p-4">
            <div className="flex gap-4 items-center border-b pb-4 mb-2">
                <Avatar size={56} icon={<UserOutlined />} />
                <div className>
                    <h3 className="font-bold text-xl">
                        {session?.name || session?.username || session?.email}
                    </h3>
                    {session?.roles.map((role, index) => (
                        <span key={index} className="text-base">
                            {role}
                        </span>
                    ))}
                </div>
            </div>
            <ul className="border-b ">
                {sidebarLinks.map((item) => {
                    return (
                        <Link
                            href={item.key}
                            key={item.key}
                            passHref
                            legacyBehavior
                        >
                            <li
                                className={`flex gap-2 items-center py-2 px-4 rounded cursor-pointer mb-2 ${
                                    pathname === item.key
                                        ? "bg-gray-100"
                                        : "hover:bg-gray-100"
                                }`}
                            >
                                <span
                                    className={
                                        pathname === item.key ? "active" : ""
                                    }
                                >
                                    {item?.icon || (
                                        <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            width="22"
                                            height="22"
                                            viewBox="0 0 32 32"
                                        >
                                            <path
                                                // fill="#F43F5E"
                                                d="M25 28H7c-.6 0-1-.4-1-1v-2c0-5.5 4.5-10 10-10 1.2 0 2.5.2 3.6.7.5.2.8.8.6 1.3-.2.5-.8.8-1.3.6-.9-.4-1.9-.6-2.9-.6-4.4 0-8 3.6-8 8v1h17c.6 0 1 .4 1 1s-.4 1-1 1zm-9-14c-2.8 0-5-2.2-5-5s2.2-5 5-5 5 2.2 5 5-2.2 5-5 5zm0-8c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3z"
                                            />
                                            <path
                                                // fill="#F43F5E"
                                                d="M21 25.2c-.5 0-1-.4-1-.9l-.2-3.6c0-.2 0-.4.1-.6l4.6-7.8c.3-.5.9-.6 1.4-.4l3.4 2c.5.3.6.9.4 1.4l-4.6 7.8c-.1.2-.2.3-.4.4l-3.2 1.6c-.2 0-.4.1-.5.1zm.8-4.4.1 1.8 1.6-.8 3.9-6.6-1.7-1-3.9 6.6zm2.4 1.8z"
                                            />
                                        </svg>
                                    )}
                                </span>
                                <span
                                    className={`font-bold text-base ${
                                        pathname === item.key
                                            ? "text-rose-500"
                                            : ""
                                    }  `}
                                >
                                    {item.label}
                                </span>
                            </li>
                        </Link>
                    )
                })}
            </ul>
            <div
                className="flex gap-2 items-center py-2 px-4 hover:bg-gray-100 rounded cursor-pointer"
                onClick={signOut}
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="22"
                    height="22"
                    viewBox="0 0 64 64"
                >
                    <path
                        fill="#F43F5E"
                        d="M53.42 32.299a21.42 21.42 0 1 1-36.24-15.47 2 2 0 0 1 2.77 2.887 17.42 17.42 0 1 0 24.102 0 2 2 0 0 1 2.77-2.887A21.253 21.253 0 0 1 53.42 32.3ZM32 35.045a2 2 0 0 0 2-2V12.279a2 2 0 0 0-4 0v20.766a2 2 0 0 0 2 2Z"
                    />
                </svg>
                <span className="font-bold text-base text-rose-500">
                    Đăng xuất
                </span>
            </div>
        </div>
    )
}

export default Sidebar
